<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>なんでそんなこと言うの</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000000;
            overflow: hidden;
            height: 100vh;
            position: relative;
            transition: background-color 0.5s ease;
        }

        body.white-mode {
            background: #ffffff;
        }

        .secret-button {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-family: inherit;
            font-size: 14px;
            z-index: 10000;
            transition: all 0.3s ease;
        }

        .secret-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        .secret-display {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "ヒラギノ明朝 Pro W3", "HiraMinProN-W3", "HG明朝E", "ＭＳ Ｐ明朝", "ＭＳ 明朝", serif;
            font-size: 200px;
            font-weight: bold;
            color: #000000;
            z-index: 20000;
            opacity: 0;
            animation: secretReveal 2s ease-in-out;
        }

        @keyframes secretReveal {
            0% { 
                opacity: 0; 
                transform: translate(-50%, -50%) scale(0.1); 
            }
            50% { 
                opacity: 1; 
                transform: translate(-50%, -50%) scale(1.2); 
            }
            100% { 
                opacity: 1; 
                transform: translate(-50%, -50%) scale(1); 
            }
        }

        .text-element {
            position: absolute;
            color: #ffffff;
            font-weight: bold;
            white-space: nowrap;
            pointer-events: none;
            will-change: transform, filter, opacity;
        }

        .chaos-1 {
            animation: chaos1 0.1s linear infinite;
        }

        .chaos-2 {
            animation: chaos2 0.15s linear infinite;
        }

        .chaos-3 {
            animation: chaos3 0.08s linear infinite;
        }

        .chaos-4 {
            animation: chaos4 0.12s linear infinite;
        }

        .chaos-5 {
            animation: chaos5 0.05s linear infinite;
        }

        .chaos-6 {
            animation: chaos6 0.2s linear infinite;
        }

        @keyframes chaos1 {
            0% { transform: translate(0, 0) rotate(0deg) scale(1) skew(0deg); filter: blur(0px) hue-rotate(0deg); }
            10% { transform: translate(50px, -30px) rotate(36deg) scale(1.2) skew(5deg); filter: blur(1px) hue-rotate(36deg); }
            20% { transform: translate(-20px, 40px) rotate(-45deg) scale(0.8) skew(-8deg); filter: blur(2px) hue-rotate(72deg); }
            30% { transform: translate(80px, 10px) rotate(90deg) scale(1.5) skew(12deg); filter: blur(0px) hue-rotate(108deg); }
            40% { transform: translate(-50px, -60px) rotate(-120deg) scale(0.5) skew(-15deg); filter: blur(3px) hue-rotate(144deg); }
            50% { transform: translate(30px, 70px) rotate(180deg) scale(1.8) skew(20deg); filter: blur(1px) hue-rotate(180deg); }
            60% { transform: translate(-80px, -20px) rotate(-200deg) scale(0.3) skew(-25deg); filter: blur(4px) hue-rotate(216deg); }
            70% { transform: translate(60px, -80px) rotate(270deg) scale(2.0) skew(30deg); filter: blur(0px) hue-rotate(252deg); }
            80% { transform: translate(-40px, 50px) rotate(-300deg) scale(0.7) skew(-18deg); filter: blur(2px) hue-rotate(288deg); }
            90% { transform: translate(90px, -10px) rotate(330deg) scale(1.3) skew(8deg); filter: blur(1px) hue-rotate(324deg); }
            100% { transform: translate(0, 0) rotate(360deg) scale(1) skew(0deg); filter: blur(0px) hue-rotate(360deg); }
        }

        @keyframes chaos2 {
            0% { transform: translate(0, 0) rotate(0deg) scale(1) skew(0deg, 0deg); filter: blur(0px) brightness(1); }
            25% { transform: translate(-100px, 80px) rotate(90deg) scale(2.5) skew(45deg, -30deg); filter: blur(5px) brightness(2); }
            50% { transform: translate(120px, -50px) rotate(180deg) scale(0.2) skew(-60deg, 45deg); filter: blur(0px) brightness(0.5); }
            75% { transform: translate(-80px, -100px) rotate(270deg) scale(3.0) skew(30deg, -60deg); filter: blur(8px) brightness(3); }
            100% { transform: translate(0, 0) rotate(360deg) scale(1) skew(0deg, 0deg); filter: blur(0px) brightness(1); }
        }

        @keyframes chaos3 {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); filter: blur(0px) contrast(1) saturate(1); }
            12.5% { transform: translate(25px, -40px) rotate(45deg) scale(1.8); filter: blur(2px) contrast(2) saturate(3); }
            25% { transform: translate(-60px, 30px) rotate(-90deg) scale(0.4); filter: blur(6px) contrast(0.5) saturate(0.2); }
            37.5% { transform: translate(80px, 60px) rotate(135deg) scale(2.2); filter: blur(1px) contrast(3) saturate(5); }
            50% { transform: translate(-40px, -80px) rotate(-180deg) scale(0.1); filter: blur(10px) contrast(0.1) saturate(0.1); }
            62.5% { transform: translate(100px, -20px) rotate(225deg) scale(2.8); filter: blur(0px) contrast(4) saturate(8); }
            75% { transform: translate(-90px, 70px) rotate(-270deg) scale(0.3); filter: blur(7px) contrast(0.3) saturate(0.5); }
            87.5% { transform: translate(70px, -90px) rotate(315deg) scale(2.5); filter: blur(3px) contrast(2.5) saturate(6); }
            100% { transform: translate(0, 0) rotate(360deg) scale(1); filter: blur(0px) contrast(1) saturate(1); }
        }

        @keyframes chaos4 {
            0% { transform: translateX(0) translateY(0) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); }
            20% { transform: translateX(150px) translateY(-100px) rotateX(90deg) rotateY(45deg) rotateZ(180deg) scale(3); }
            40% { transform: translateX(-80px) translateY(120px) rotateX(-45deg) rotateY(-90deg) rotateZ(-270deg) scale(0.1); }
            60% { transform: translateX(200px) translateY(50px) rotateX(180deg) rotateY(180deg) rotateZ(90deg) scale(4); }
            80% { transform: translateX(-150px) translateY(-80px) rotateX(-180deg) rotateY(-45deg) rotateZ(-180deg) scale(0.2); }
            100% { transform: translateX(0) translateY(0) rotateX(360deg) rotateY(360deg) rotateZ(360deg) scale(1); }
        }

        @keyframes chaos5 {
            0% { transform: matrix(1, 0, 0, 1, 0, 0); filter: blur(0px) invert(0) sepia(0); }
            10% { transform: matrix(2, 0.5, -0.5, 1.5, 50, -30); filter: blur(8px) invert(1) sepia(1); }
            20% { transform: matrix(0.5, -1, 1, 0.3, -80, 60); filter: blur(15px) invert(0) sepia(0.5); }
            30% { transform: matrix(3, 1.2, -1.8, 2, 120, 40); filter: blur(3px) invert(0.5) sepia(0.8); }
            40% { transform: matrix(0.1, 2, -2.5, 0.8, -100, -90); filter: blur(20px) invert(1) sepia(0.2); }
            50% { transform: matrix(4, -0.8, 1.5, 3.5, 80, 100); filter: blur(1px) invert(0.3) sepia(1); }
            60% { transform: matrix(0.2, -3, 2.8, 0.4, -150, -20); filter: blur(25px) invert(0.7) sepia(0.6); }
            70% { transform: matrix(2.5, 2.2, -1.2, 2.8, 70, -120); filter: blur(5px) invert(0) sepia(0.9); }
            80% { transform: matrix(0.3, 1.8, -3.2, 1.1, -60, 80); filter: blur(12px) invert(1) sepia(0.3); }
            90% { transform: matrix(1.8, -1.5, 2.1, 1.9, 110, -60); filter: blur(2px) invert(0.4) sepia(0.7); }
            100% { transform: matrix(1, 0, 0, 1, 0, 0); filter: blur(0px) invert(0) sepia(0); }
        }

        @keyframes chaos6 {
            0% { transform: perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px); filter: blur(0px) opacity(1); }
            16.6% { transform: perspective(1000px) rotateX(180deg) rotateY(90deg) translateZ(200px); filter: blur(10px) opacity(0.3); }
            33.3% { transform: perspective(1000px) rotateX(-90deg) rotateY(270deg) translateZ(-150px); filter: blur(20px) opacity(0.8); }
            50% { transform: perspective(1000px) rotateX(270deg) rotateY(-180deg) translateZ(300px); filter: blur(5px) opacity(0.1); }
            66.6% { transform: perspective(1000px) rotateX(-270deg) rotateY(450deg) translateZ(-250px); filter: blur(15px) opacity(0.9); }
            83.3% { transform: perspective(1000px) rotateX(90deg) rotateY(-90deg) translateZ(100px); filter: blur(8px) opacity(0.4); }
            100% { transform: perspective(1000px) rotateX(360deg) rotateY(360deg) translateZ(0px); filter: blur(0px) opacity(1); }
        }

        .glow-weak {
            text-shadow: 
                0 0 3px #ffffff,
                0 0 6px #ffffff,
                0 0 9px #ffffff;
            animation: glowWeak 2s ease-in-out infinite alternate;
        }

        .glow-medium {
            text-shadow: 
                0 0 5px #ffffff,
                0 0 10px #ffffff,
                0 0 15px #ffffff,
                0 0 20px #ffffff;
            animation: glowMedium 1.5s ease-in-out infinite alternate;
        }

        .glow-strong {
            text-shadow: 
                0 0 8px #ffffff,
                0 0 16px #ffffff,
                0 0 24px #ffffff,
                0 0 32px #ffffff,
                0 0 40px #ffffff;
            animation: glowStrong 1s ease-in-out infinite alternate;
        }

        .glow-intense {
            text-shadow: 
                0 0 10px #ffffff,
                0 0 20px #ffffff,
                0 0 30px #ffffff,
                0 0 40px #ffffff,
                0 0 50px #ffffff,
                0 0 60px #ffffff;
            animation: glowIntense 0.8s ease-in-out infinite alternate;
        }

        @keyframes glowWeak {
            0% {
                text-shadow: 
                    0 0 3px #ffffff,
                    0 0 6px #ffffff,
                    0 0 9px #ffffff;
            }
            100% {
                text-shadow: 
                    0 0 6px #ffffff,
                    0 0 12px #ffffff,
                    0 0 18px #ffffff;
            }
        }

        @keyframes glowMedium {
            0% {
                text-shadow: 
                    0 0 5px #ffffff,
                    0 0 10px #ffffff,
                    0 0 15px #ffffff,
                    0 0 20px #ffffff;
            }
            100% {
                text-shadow: 
                    0 0 10px #ffffff,
                    0 0 20px #ffffff,
                    0 0 30px #ffffff,
                    0 0 40px #ffffff;
            }
        }

        @keyframes glowStrong {
            0% {
                text-shadow: 
                    0 0 8px #ffffff,
                    0 0 16px #ffffff,
                    0 0 24px #ffffff,
                    0 0 32px #ffffff,
                    0 0 40px #ffffff;
            }
            100% {
                text-shadow: 
                    0 0 15px #ffffff,
                    0 0 30px #ffffff,
                    0 0 45px #ffffff,
                    0 0 60px #ffffff,
                    0 0 75px #ffffff;
            }
        }

        @keyframes glowIntense {
            0% {
                text-shadow: 
                    0 0 10px #ffffff,
                    0 0 20px #ffffff,
                    0 0 30px #ffffff,
                    0 0 40px #ffffff,
                    0 0 50px #ffffff,
                    0 0 60px #ffffff;
            }
            100% {
                text-shadow: 
                    0 0 20px #ffffff,
                    0 0 40px #ffffff,
                    0 0 60px #ffffff,
                    0 0 80px #ffffff,
                    0 0 100px #ffffff,
                    0 0 120px #ffffff;
            }
        }

        .mincho {
            font-family: "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "ヒラギノ明朝 Pro W3", "HiraMinProN-W3", "HG明朝E", "ＭＳ Ｐ明朝", "ＭＳ 明朝", serif;
        }

        .gothic {
            font-family: "Yu Gothic", "YuGothic", "Hiragino Kaku Gothic Pro", "ヒラギノ角ゴ Pro W3", "メイリオ", "Meiryo", "ＭＳ Ｐゴシック", "MS PGothic", sans-serif;
        }

        .flying-text {
            animation: flyPast 3s linear infinite;
        }

        .approaching-text {
            animation: approach 4s ease-in-out infinite;
        }

        .shaking-text {
            animation: shake 0.5s ease-in-out infinite;
        }

        .floating-text {
            animation: float 6s ease-in-out infinite;
        }

        .spiral-text {
            animation: spiral 8s linear infinite;
        }

        .pulsing-text {
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes flyPast {
            0% {
                transform: translateX(-200px) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateX(calc(100vw + 200px)) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes approach {
            0% {
                transform: scale(0.1) translateZ(0);
                opacity: 0.3;
            }
            50% {
                transform: scale(1.5) translateZ(0);
                opacity: 1;
            }
            100% {
                transform: scale(0.1) translateZ(0);
                opacity: 0.3;
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10% { transform: translateX(-10px) rotate(-1deg); }
            20% { transform: translateX(10px) rotate(1deg); }
            30% { transform: translateX(-10px) rotate(-1deg); }
            40% { transform: translateX(10px) rotate(1deg); }
            50% { transform: translateX(-10px) rotate(-1deg); }
            60% { transform: translateX(10px) rotate(1deg); }
            70% { transform: translateX(-10px) rotate(-1deg); }
            80% { transform: translateX(10px) rotate(1deg); }
            90% { transform: translateX(-10px) rotate(-1deg); }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            50% {
                transform: translateY(-30px) rotate(180deg);
            }
        }

        @keyframes spiral {
            0% {
                transform: rotate(0deg) translateX(100px) rotate(0deg);
            }
            100% {
                transform: rotate(360deg) translateX(100px) rotate(-360deg);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 0.7;
            }
            50% {
                transform: scale(1.3);
                opacity: 1;
            }
        }

        .size-small { font-size: 16px; }
        .size-medium { font-size: 24px; }
        .size-large { font-size: 36px; }
        .size-xlarge { font-size: 48px; }

        .cursor-follow {
            position: absolute;
            color: #ffffff;
            font-size: 20px;
            pointer-events: none;
            transition: all 0.1s ease;
            z-index: 1000;
            text-shadow: 
                0 0 8px #ffffff,
                0 0 16px #ffffff,
                0 0 24px #ffffff,
                0 0 32px #ffffff;
            animation: glowMedium 1.2s ease-in-out infinite alternate;
        }
    </style>
</head>
<body>
    <button class="secret-button" id="secretBtn">？</button>
    <div class="cursor-follow gothic" id="cursorText">なんでそんなこと言うの</div>

    <script>
        const text = "なんでそんなこと言うの";
        const chaosAnimations = ['chaos-1', 'chaos-2', 'chaos-3', 'chaos-4', 'chaos-5', 'chaos-6'];
        const normalAnimations = ['flying-text', 'approaching-text', 'shaking-text', 'floating-text', 'spiral-text', 'pulsing-text'];
        const fonts = ['mincho', 'gothic'];
        const sizes = ['size-small', 'size-medium', 'size-large', 'size-xlarge'];
        const glows = ['glow-weak', 'glow-medium', 'glow-strong', 'glow-intense'];

        let secretClickCount = 0;
        let isSecretMode = false;

        function createTextElement() {
            const element = document.createElement('div');
            element.className = 'text-element';
            element.textContent = text;
            
            // 完全にランダムな位置（画面外も含む）
            element.style.left = (Math.random() - 0.5) * window.innerWidth * 2 + 'px';
            element.style.top = (Math.random() - 0.5) * window.innerHeight * 2 + 'px';
            
            // ランダムな回転
            element.style.transform = `rotate(${Math.random() * 360}deg)`;
            
            // 70%の確率で超重いカオスアニメーション、30%で通常アニメーション
            const usesChaos = Math.random() < 0.7;
            const animation = usesChaos ? 
                chaosAnimations[Math.floor(Math.random() * chaosAnimations.length)] :
                normalAnimations[Math.floor(Math.random() * normalAnimations.length)];
            
            const font = fonts[Math.floor(Math.random() * fonts.length)];
            const size = sizes[Math.floor(Math.random() * sizes.length)];
            const glow = glows[Math.floor(Math.random() * glows.length)];
            
            element.classList.add(animation, font, size, glow);
            
            // ランダムな遅延
            element.style.animationDelay = Math.random() * 1 + 's';
            
            // ランダムなz-index
            element.style.zIndex = Math.floor(Math.random() * 1000);
            
            // ランダムな不透明度
            element.style.opacity = 0.3 + Math.random() * 0.7;
            
            document.body.appendChild(element);
            
            // 2-12秒でランダム削除
            const lifetime = 2000 + Math.random() * 10000;
            setTimeout(() => {
                if (element.parentNode) {
                    element.parentNode.removeChild(element);
                }
            }, lifetime);
        }

        function createTextBurst() {
            for (let i = 0; i < 15; i++) {
                setTimeout(() => createTextElement(), Math.random() * 200);
            }
        }

        // 秘密ボタンの機能
        document.getElementById('secretBtn').addEventListener('click', () => {
            secretClickCount++;
            
            if (secretClickCount === 5) {
                isSecretMode = true;
                document.body.classList.add('white-mode');
                
                // 「は？」を表示
                const secretDiv = document.createElement('div');
                secretDiv.className = 'secret-display';
                secretDiv.textContent = 'は？';
                document.body.appendChild(secretDiv);
                
                // すべてのテキスト要素を削除
                const allTexts = document.querySelectorAll('.text-element');
                allTexts.forEach(el => {
                    if (el.parentNode) {
                        el.parentNode.removeChild(el);
                    }
                });
                
                // 5秒後に元に戻す
                setTimeout(() => {
                    isSecretMode = false;
                    secretClickCount = 0;
                    document.body.classList.remove('white-mode');
                    if (secretDiv.parentNode) {
                        secretDiv.parentNode.removeChild(secretDiv);
                    }
                }, 5000);
            }
        });

        // カーソル追従テキスト
        const cursorText = document.getElementById('cursorText');
        document.addEventListener('mousemove', (e) => {
            cursorText.style.left = (e.clientX + 10) + 'px';
            cursorText.style.top = (e.clientY - 10) + 'px';
            
            // マウス移動で新しいテキスト生成
            if (Math.random() < 0.2 && !isSecretMode) {
                createTextElement();
            }
        });

        // クリック時に爆発
        document.addEventListener('click', (e) => {
            // ボタンクリックでない場合のみ
            if (!e.target.classList.contains('secret-button') && !isSecretMode) {
                for (let i = 0; i < 25; i++) {
                    setTimeout(() => createTextElement(), Math.random() * 300);
                }
            }
        });

        // 高頻度で生成（700個前後を目指す）
        setInterval(() => {
            if (!isSecretMode) createTextElement();
        }, 80);
        
        setInterval(() => {
            if (!isSecretMode) createTextBurst();
        }, 1200);
        
        // 追加の生成タイマー
        setInterval(() => {
            if (!isSecretMode) {
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => createTextElement(), Math.random() * 150);
                }
            }
        }, 400);

        // ランダムな間隔での爆発的生成
        setInterval(() => {
            if (Math.random() < 0.4 && !isSecretMode) {
                createTextBurst();
            }
        }, 800);

        // 初期大量生成
        for (let i = 0; i < 100; i++) {
            setTimeout(() => createTextElement(), Math.random() * 1500);
        }

        // 初期爆発
        for (let i = 0; i < 8; i++) {
            setTimeout(() => createTextBurst(), i * 200);
        }

        // タッチデバイス対応
        document.addEventListener('touchmove', (e) => {
            e.preventDefault();
            const touch = e.touches[0];
            cursorText.style.left = (touch.clientX + 10) + 'px';
            cursorText.style.top = (touch.clientY - 10) + 'px';
            
            // タッチ移動でも生成
            if (Math.random() < 0.25 && !isSecretMode) {
                createTextElement();
            }
        });

        document.addEventListener('touchstart', (e) => {
            if (!isSecretMode) {
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => createTextElement(), Math.random() * 250);
                }
            }
        });

        // 画面リサイズでも爆発
        window.addEventListener('resize', () => {
            if (!isSecretMode) {
                createTextBurst();
            }
        });

        // 定期的にDOM要素数をチェック（700前後を維持）
        setInterval(() => {
            const elements = document.querySelectorAll('.text-element');
            console.log(`現在の要素数: ${elements.length}`);
            
            // 800個を超えたら少し間引く
            if (elements.length > 800) {
                for (let i = 0; i < 100; i++) {
                    if (elements[i] && elements[i].parentNode) {
                        elements[i].parentNode.removeChild(elements[i]);
                    }
                }
            }
            
            // 500個以下なら積極的に追加
            if (elements.length < 500 && !isSecretMode) {
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => createTextElement(), Math.random() * 100);
                }
            }
        }, 3000);
    </script>
</body>
</html>
